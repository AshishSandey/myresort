(this.webpackJsonpmyresort=this.webpackJsonpmyresort||[]).push([[0],{100:function(e,t,a){e.exports=a(201)},105:function(e,t,a){},106:function(e,t,a){},200:function(e,t,a){e.exports=a.p+"static/media/logo.9f0cccc1.svg"},201:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(83),o=a.n(c),l=(a(105),a(15)),i=(a(106),a(5));function s(e){var t=e.children,a=e.title,n=e.subtitle;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,a),r.a.createElement("div",null),r.a.createElement("p",null,n),t)}function m(e){var t=e.children,a=e.hero;return r.a.createElement("header",{className:a},t)}m.defaultProps={hero:"defaultHero"};var u=a(10),p=a(11),f=a(13),d=a(12);function h(e){var t=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,t),r.a.createElement("div",null))}var E=a(26),v=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={services:[{icon:r.a.createElement(E.b,null),title:"free cocktail",info:"Free cocktail as a part of room service"},{icon:r.a.createElement(E.c,null),title:"Endless Hiking",info:"Go for Hiking and enjoy the beautiful scenery with free Hiking Gears"},{icon:r.a.createElement(E.d,null),title:"Free Shuttle",info:"Free shuttle service throughout the resort"},{icon:r.a.createElement(E.a,null),title:"Strongest Beer",info:"Open bar for the customers"}]},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"services"},r.a.createElement(h,{title:"services"}),r.a.createElement("div",{className:"services-center"},this.state.services.map((function(e,t){return r.a.createElement("article",{key:t,className:"service"},r.a.createElement("span",null,e.icon),r.a.createElement("h6",null,e.title),r.a.createElement("p",null,e.info))}))))}}]),a}(n.Component),g=a(32),b=a(49),y=a(50),k=a.n(y),x=a(18),N=a(84),O=a(98),j=Object(O.a)({space:"48t1s0p1dk0p",accessToken:"61dda3b65d92ab91decdcde3f89f5d268746742a792e27b9981a33a1a76c8c7f"}),w=r.a.createContext(),C=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:"1",maxCapacity:0,price:0,maxPrice:0,minSize:0,maxSize:0,breakfast:!1,pets:!1},e.getData=Object(N.a)(k.a.mark((function t(){var a,n,r,c,o,l;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.getEntries({content_type:"beachResortRoom"});case 3:a=t.sent,n=e.formatData(a.items),r=n.filter((function(e){return!0===e.featured})),c=Math.max.apply(Math,Object(x.a)(n.map((function(e){return e.price})))),o=Math.max.apply(Math,Object(x.a)(n.map((function(e){return e.size})))),l=Math.max.apply(Math,Object(x.a)(n.map((function(e){return e.capacity})))),e.setState({rooms:n,sortedRooms:n,featuredRooms:r,loading:!1,maxCapacity:l,price:c,maxPrice:c,maxSize:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),e.formatData=function(e){return e.map((function(e){var t=e.sys.id,a=e.fields.images.map((function(e){return e.fields.file.url}));return Object(b.a)({id:t},e.fields,{images:a})}))},e.handleChange=function(t){var a=t.target.name,n="checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(g.a)({},a,n),e.filterRooms)},e.filterRooms=function(){var t=e.state,a=t.rooms,n=t.type,r=t.capacity,c=t.price,o=t.minSize,l=t.maxSize,i=t.breakfast,s=t.pets,m=a;"all"!==n&&(m=m.filter((function(e){return e.type===n}))),m=(m=(m=m.filter((function(e){return e.capacity>=+r}))).filter((function(e){return e.price<=+c}))).filter((function(e){return e.size>=+o&&e.size<=+l})),!0===i&&(m=m.filter((function(e){return!0===e.breakfast}))),!0===s&&(m=m.filter((function(e){return!0===e.pets}))),e.setState({sortedRooms:m})},e.getRoom=function(t){return e.state.rooms.find((function(e){return e.slug===t}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return r.a.createElement(w.Provider,{value:Object(b.a)({},this.state,{handleChange:this.handleChange,getRoom:this.getRoom})},this.props.children)}}]),a}(r.a.Component);var S=w.Consumer,R=a(89),z=a.n(R);function F(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h4",null,"Loading..."),r.a.createElement("img",{src:z.a,alt:""}))}function M(e){var t=e.room;return r.a.createElement("article",{className:"room"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:t.images[0],alt:"single-room"}),r.a.createElement("div",{className:"price-top"},r.a.createElement("h6",null,t.price),r.a.createElement("p",null,"per night")),r.a.createElement(i.b,{to:"/rooms/".concat(t.slug),className:"btn-primary room-link"},"Features")),r.a.createElement("p",{className:"room-info"},t.name))}var A=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.context,t=e.loading,a=e.featuredRooms.map((function(e){return r.a.createElement(M,{key:e.id,room:e})}));return r.a.createElement("section",{className:"featured-rooms"},r.a.createElement(h,{title:"featured rooms"}),r.a.createElement("div",{className:"featured-rooms-center"},t?r.a.createElement(F,null):a))}}]),a}(r.a.Component);function H(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{hero:"defaultHero"},r.a.createElement(s,{title:"luxurious rooms",subtitle:"delux rooms starting at $299"},r.a.createElement(i.b,{to:"/rooms",className:"btn-primary"},"our rooms"))),r.a.createElement(v,null),r.a.createElement(A,null))}function P(e){var t,a,c=e.rooms,o=Object(n.useContext)(w),l=o.handleChange,i=o.type,s=o.capacity,m=o.maxCapacity,u=o.price,p=o.maxPrice,f=o.minSize,d=o.maxSize,E=o.breakfast,v=o.pets,g=["all"].concat(Object(x.a)((t=c,a="type",Object(x.a)(new Set(t.map((function(e){return e[a]})))))));return r.a.createElement("section",{className:"filter-container"},r.a.createElement(h,{title:"search rooms"}),r.a.createElement("form",{className:"filter-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},"room type"),r.a.createElement("select",{name:"type",id:"type",value:i,className:"form-control",onChange:l},g.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"capacity"},"Guests: ",s),r.a.createElement("input",{type:"range",name:"capacity",id:"capacity",value:s,min:1,max:m,onChange:l})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price"},"Max Price: $",u),r.a.createElement("input",{type:"range",name:"price",id:"price",value:u,min:0,max:p,onChange:l})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"Room Size"),r.a.createElement("input",{type:"number",name:"minSize",id:"size",value:f,onChange:l,className:"size-input"}),r.a.createElement("input",{type:"number",name:"maxSize",id:"size",value:d,onChange:l,className:"size-input"})),r.a.createElement("div",{className:"single-extra"},r.a.createElement("input",{type:"checkbox",name:"breakfast",id:"breakfast",checked:E,onChange:l}),r.a.createElement("label",{htmlFor:"breakfast"},"breakfast"),r.a.createElement("input",{type:"checkbox",name:"pets",id:"pets",checked:v,onChange:l}),r.a.createElement("label",{htmlFor:"pets"},"pets"))))}function W(e){var t=e.rooms;return 0===t.length?r.a.createElement("div",{className:"empty-search"},r.a.createElement("h3",null,"unfortunately no rooms matched your search parameters")):r.a.createElement("section",{className:"roomslist"},r.a.createElement("div",{className:"roomslist-center"},t.map((function(e){return r.a.createElement(M,{key:e.id,room:e})}))))}A.contextType=w;var T,D=(T=function(e){var t=e.context,a=t.loading,n=t.sortedRooms,c=t.rooms;return a?r.a.createElement(F,null):r.a.createElement("div",null,r.a.createElement(P,{rooms:c}),r.a.createElement(W,{rooms:n}))},function(e){return r.a.createElement(S,null,(function(t){return r.a.createElement(T,Object.assign({},e,{context:t}))}))});function B(){return r.a.createElement("div",null,r.a.createElement(m,{hero:"roomsHero"},r.a.createElement(s,{title:"our rooms"},r.a.createElement(i.b,{to:"/",className:"btn-primary"},"return home"))),r.a.createElement(D,null))}var $=a(99),G=a(91),L=a.n(G),U=a(92);function J(){var e=Object(U.a)(["\n    min-height: 60vh;\n    background: url(",") center/cover no-repeat;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return J=function(){return e},e}var I=a(93).a.header(J(),(function(e){return e.img})),Q=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={slug:n.props.match.params.slug,defaultBcg:L.a},n}return Object(p.a)(a,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"no such room could be found"),r.a.createElement(i.b,{to:"/",className:"btn-primary"},"back to rooms"));var t=Object($.a)(e.images),a=t[0],n=t.slice(1);return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{img:a},r.a.createElement(s,{title:"".concat(e.name," room")},r.a.createElement(i.b,{to:"/",className:"btn-primary"},"back to rooms"))),r.a.createElement("section",{className:"single-room"},r.a.createElement("div",{className:"single-room-images"},n.map((function(e,t){return r.a.createElement("img",{src:e,key:t,alt:"room"})}))),r.a.createElement("div",{className:"single-room-info"},r.a.createElement("article",{className:"desc"},r.a.createElement("h3",null,"details :"),r.a.createElement("p",null,e.description)),r.a.createElement("article",{className:"info"},r.a.createElement("h3",null,"info"),r.a.createElement("h6",null,"price : $",e.price),r.a.createElement("h6",null,"size : ",e.size," SQFT"),r.a.createElement("h6",null,"max capacity :"," ",e.capacity," ",e.capacity>1?"people":"person"),r.a.createElement("h6",null,e.pets?"pets allowed":"no pets allowed"),r.a.createElement("h6",null,e.breakfast&&"free breakfast included")))),r.a.createElement("section",{className:"room-extras"},r.a.createElement("h6",null,"extras"),r.a.createElement("ul",{className:"extras"},e.extras.map((function(e,t){return r.a.createElement("li",{key:t},"- ",e)})))))}}]),a}(n.Component);function _(){return r.a.createElement("div",null,"Hello from error")}Q.contextType=w;var q=a(97),K=(a(200),function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.handleChange=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header"},r.a.createElement("div",{className:"brand-name"},r.a.createElement(i.b,{to:"/"},"My Resort")),r.a.createElement("button",{type:"button",className:"nav-btn",onClick:this.handleChange},r.a.createElement(q.a,{className:"nav-icon"}))),r.a.createElement("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/rooms"},"Rooms")))))}}]),a}(n.Component));var V=function(){return r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:H}),r.a.createElement(l.a,{exact:!0,path:"/rooms",component:B}),r.a.createElement(l.a,{exact:!0,path:"/rooms/:slug",component:Q}),r.a.createElement(l.a,{component:_})))},X=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(C,null,r.a.createElement(V,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/myresort",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/myresort","/service-worker.js");X?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Y(t,e)}))}}()},51:function(e,t){},89:function(e,t,a){e.exports=a.p+"static/media/loading-arrow.e9ea7394.gif"},91:function(e,t,a){e.exports=a.p+"static/media/room-1.e928a5c4.jpeg"}},[[100,1,2]]]);
//# sourceMappingURL=main.e4ab32e6.chunk.js.map